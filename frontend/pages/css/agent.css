/* 基础样式增强 */
body {
    /* 使用背景图 + 叠加渐变遮罩，提升层次感 */
    background: url('../shared/assets/images/background1.png') center/cover fixed,
                linear-gradient(120deg, #0f172a 0%, #1e293b 55%, #334155 100%);
    background-blend-mode: overlay;
    color: #e2e8f0;
}

body:after { 
    background: repeating-linear-gradient(135deg, rgba(255,255,255,.08) 0 2px, transparent 2px 6px); 
    opacity: .4; 
}

@keyframes glowShift { 
    0% { filter: hue-rotate(0deg); } 
    50% { filter: hue-rotate(30deg); } 
    100% { filter: hue-rotate(-15deg); } 
}

/* 深色模式覆盖 */
.dark-mode body, body.dark-mode { 
    background: linear-gradient(120deg,#0f172a 0%, #1e293b 55%, #334155 100%); 
    color: #e2e8f0; 
}

.dark-mode .agent-chat-shell { 
    background: rgba(30,41,59,0.65); 
    border-color: rgba(255,255,255,0.15); 
}

.dark-mode .agent-chat-shell #chat-messages { 
    background: linear-gradient(140deg,rgba(30,41,59,0.55) 0%,rgba(30,41,59,0.2) 100%); 
}

.dark-mode .agent-chat-shell .bg-white.bg-opacity-10 { 
    background: rgba(255,255,255,0.08); 
    color: #e2e8f0; 
}

.dark-mode .agent-chat-shell .bg-secondary.bg-opacity-20 { 
    background: linear-gradient(135deg,#1d4ed8 0%,#1e40af 100%); 
}

.dark-mode h1,.dark-mode h2,.dark-mode h3 { 
    color: #f1f5f9; 
}

.dark-mode .sample-q { 
    background: rgba(255,255,255,0.06); 
}

.dark-mode .sample-q:hover { 
    background: rgba(255,255,255,0.12); 
}

/* 额外炫技背景 Canvas 分层适配深色 */
.dark-mode #agentDynamicBG:before { 
    content: ""; 
    position: absolute; 
    inset: 0; 
    background: radial-gradient(circle at 30% 40%, rgba(59,130,246,0.35), transparent 60%), 
                radial-gradient(circle at 70% 65%, rgba(99,102,241,0.3), transparent 65%); 
    mix-blend-mode: screen; 
}

/* 动态功能展示区样式补充 */
#advanced .rounded-xl { 
    transition: transform .4s ease, box-shadow .4s ease; 
}

#advanced .rounded-xl:hover { 
    transform: translateY(-6px) scale(1.02); 
    box-shadow: 0 16px 38px -10px rgba(30,64,175,0.35); 
}

.sample-q { 
    transition: .3s; 
}

.sample-q:active { 
    transform: scale(.96); 
}

/* 流式背景 Canvas 占位尺寸确保充满 */
#agentFlowCanvas { 
    display: none; 
}

/* Ambient 漂浮粒子层覆盖 */
#ambientParticles { 
    mix-blend-mode: screen; 
}

/* 背景统一暗化渐变 */
#agentDynamicBG:after { 
    content: ""; 
    position: absolute; 
    inset: 0; 
    background: linear-gradient(180deg,
        rgba(7,22,46,0.82) 0%,
        rgba(7,22,46,0.58) 42%,
        rgba(7,22,46,0.34) 68%,
        rgba(7,22,46,0.55) 100%), 
        radial-gradient(circle at 30% 35%, rgba(99,102,241,0.28), transparent 65%), 
        radial-gradient(circle at 75% 65%, rgba(56,189,248,0.25), transparent 60%); 
    pointer-events: none; 
}

/* 新多层渐变背景容器 */
.agent-bg-gradient { 
    position: absolute; 
    inset: 0; 
    background:
        linear-gradient(140deg,#0a1c37 0%,#0f294d 35%,#123b68 55%,#1a4f7f 75%,#1e5e95 92%),
        radial-gradient(circle at 18% 28%, rgba(102,126,234,0.35), transparent 60%),
        radial-gradient(circle at 82% 72%, rgba(118,75,162,0.32), transparent 60%),
        radial-gradient(circle at 50% 50%, rgba(255,255,255,0.08), transparent 70%);
    animation: gradientShift 26s ease-in-out infinite alternate; 
    mix-blend-mode: normal; 
}

@keyframes gradientShift { 
    0% { filter: hue-rotate(0deg) brightness(1); } 
    50% { filter: hue-rotate(25deg) brightness(1.07); } 
    100% { filter: hue-rotate(-15deg) brightness(1); } 
}

.dark-mode #agentDynamicBG:after { 
    background: linear-gradient(180deg,
        rgba(15,23,42,0.85) 0%,
        rgba(15,23,42,0.6) 45%,
        rgba(15,23,42,0.4) 70%,
        rgba(15,23,42,0.6) 100%); 
}

/* 统一可读性：主要段落加轻微文本阴影 */
.agent-chat-shell p, #advanced p, #guide p, #showcase p { 
    text-shadow: 0 1px 2px rgba(0,0,0,0.08); 
}

.dark-mode .agent-chat-shell p, .dark-mode #advanced p, .dark-mode #guide p { 
    text-shadow: 0 1px 2px rgba(0,0,0,0.4); 
}

.agent-chat-shell input#chat-input { 
    backdrop-filter: blur(6px); 
}

.agent-chat-shell button#send-message { 
    box-shadow: 0 8px 24px -6px rgba(66,133,244,0.55); 
}

.agent-chat-shell button#send-message:hover { 
    transform: translateY(-3px); 
}

.agent-chat-shell::-webkit-scrollbar-thumb { 
    background: #94a3b8; 
}

/* Markdown 预览 */
#auditMd { 
    background: #0f172a; 
    color: #e2e8f0; 
    padding: 12px 14px; 
    border-radius: 8px; 
    line-height: 1.4; 
}

#auditMd code { 
    background: #1e293b; 
    padding: 2px 5px; 
    border-radius: 4px; 
}

/* 粒子 Canvas 叠加层 */
#bgParticles { 
    mix-blend-mode: screen; 
    filter: drop-shadow(0 0 6px rgba(99,102,241,0.45)); 
}

/* 放大 Logo 样式 */
.hero-logo { 
    width: 150px; 
    height: 150px; 
    object-fit: contain; 
    filter: drop-shadow(0 6px 20px rgba(0,0,0,0.4)) 
            drop-shadow(0 0 12px rgba(99,102,241,0.55)); 
    animation: logoFloat 11s ease-in-out infinite; 
}

.agent-nav .nav-link { 
    position: relative; 
    color: #f1f5f9; 
    font-weight: 500; 
    transition: color .25s ease; 
}

.agent-nav .nav-link:after { 
    content: ""; 
    position: absolute; 
    left: 0; 
    bottom: -6px; 
    width: 0; 
    height: 2px; 
    background: linear-gradient(90deg,#60a5fa,#818cf8); 
    transition: width .35s cubic-bezier(.25,.8,.25,1); 
    border-radius: 2px; 
}

.agent-nav .nav-link:hover { 
    color: #93c5fd; 
}

.agent-nav .nav-link:hover:after { 
    width: 100%; 
}

/* 优化粒子球所在 canvas 提示 */
#agentThreeCanvas { 
    filter: drop-shadow(0 0 22px rgba(99,102,241,0.35)); 
}

@keyframes logoFloat { 
    0% { transform: translateY(0); } 
    50% { transform: translateY(-14px); } 
    100% { transform: translateY(0); } 
}

.hero-title { 
    letter-spacing: 1px; 
    text-shadow: 0 4px 22px rgba(0,0,0,0.35); 
}

/* 光晕层 */
.halo-layer { 
    position: absolute; 
    inset: 0; 
    pointer-events: none; 
    mix-blend-mode: screen; 
}

/* 毛玻璃导航 */
.glass-nav { 
    background: rgba(15,23,42,0.55); 
    backdrop-filter: blur(18px) saturate(1.4); 
    -webkit-backdrop-filter: blur(18px) saturate(1.4);
    border-bottom: 1px solid rgba(255,255,255,0.12);
    box-shadow: 0 8px 24px -10px rgba(0,0,0,0.45);
}
.nav-pill { 
    padding: .55rem 1rem; 
    border-radius: 999px; 
    background: linear-gradient(135deg,rgba(255,255,255,.08),rgba(255,255,255,.04)); 
    color:#f1f5f9; 
    font-weight:500; 
    font-size:.85rem; 
    letter-spacing:.5px; 
    transition: all .35s cubic-bezier(.25,.8,.25,1);
    border:1px solid rgba(255,255,255,.18);
}
.nav-pill:hover { 
    background: linear-gradient(135deg,rgba(99,102,241,.85),rgba(56,189,248,.8)); 
    color:#fff; 
    box-shadow:0 6px 18px -6px rgba(56,189,248,.55); 
    transform:translateY(-2px);
}
.nav-links .nav-link { 
    font-size:.78rem; 
    padding:.4rem .6rem; 
    border-radius:.5rem; 
    background:rgba(255,255,255,.06); 
    border:1px solid rgba(255,255,255,.12); 
    color:#e2e8f0; 
    transition: all .3s;
}
.nav-links .nav-link:hover { 
    background:linear-gradient(120deg,#3b82f6,#6366f1); 
    color:#fff; 
    box-shadow:0 4px 14px -4px rgba(99,102,241,.6);
}
.nav-links .nav-link:active { 
    transform:scale(.94); 
}
/* 首页文字按钮额外强调 */
.nav-home-action { position:relative; }
.nav-home-action:after { content:""; position:absolute; left:8px; right:8px; bottom:2px; height:2px; background:linear-gradient(90deg,#60a5fa,#818cf8); opacity:0; transition:opacity .35s,width .35s; width:0; border-radius:2px; }
.nav-home-action:hover:after { opacity:1; width:calc(100% - 16px); }

/* Hero 动态增强 */
.hero-wrapper { min-height: 360px; }
.gradient-text { background:linear-gradient(90deg,#93c5fd 0%,#818cf8 38%,#38bdf8 65%,#7c3aed 100%); -webkit-background-clip:text; background-clip:text; color:transparent; animation: hueRoll 16s linear infinite; }
@keyframes hueRoll { 0% { filter:hue-rotate(0deg); } 50% { filter:hue-rotate(40deg); } 100% { filter:hue-rotate(-10deg); } }

.hero-rotating { font-weight:500; letter-spacing:.5px; position:relative; padding:.75rem 1.25rem; border-radius:1rem; background:rgba(255,255,255,.06); backdrop-filter:blur(12px) saturate(1.3); border:1px solid rgba(255,255,255,.18); box-shadow:0 10px 28px -12px rgba(0,0,0,.45); }
.hero-rotating:before { content:""; position:absolute; inset:0; border-radius:inherit; background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.12),transparent 70%); opacity:.55; pointer-events:none; }

/* 轨道与漂浮点 */
.hero-orbits { position:absolute; inset:0; width:100%; max-width:720px; margin:0 auto; left:0; right:0; top:0; height:100%; filter:drop-shadow(0 0 22px rgba(99,102,241,.35)); }
.orbit-dot { position:absolute; width:14px; height:14px; background:linear-gradient(135deg,#6366f1,#3b82f6); border-radius:50%; box-shadow:0 0 12px -2px #6366f1,0 0 26px -6px #3b82f6; animation: floatDot 9s ease-in-out infinite; opacity:.75; }
.orbit-dot.od1 { top:22%; left:12%; animation-delay:.3s; }
.orbit-dot.od2 { top:18%; right:14%; animation-delay:1.2s; }
.orbit-dot.od3 { bottom:14%; left:18%; animation-delay:2s; }
@keyframes floatDot { 0%,100% { transform:translateY(0) scale(1); } 50% { transform:translateY(-18px) scale(1.15); } }

.orbit-ring { position:absolute; border:1px dashed rgba(255,255,255,.25); border-radius:50%; animation: spinRing 38s linear infinite; }
.orbit-ring.ring1 { width:320px; height:320px; top:30px; left:50%; transform:translateX(-50%); }
.orbit-ring.ring2 { width:480px; height:480px; top:-40px; left:50%; transform:translateX(-50%); animation-duration:60s; }
@keyframes spinRing { from { transform:translateX(-50%) rotate(0deg); } to { transform:translateX(-50%) rotate(360deg); } }

/* 滚动指示器 */
.scroll-indicator { position:relative; width:40px; margin:0 auto; }
.si-link { display:flex; flex-direction:column; align-items:center; gap:6px; text-decoration:none; }
.si-mouse { width:18px; height:28px; border:2px solid rgba(255,255,255,.55); border-radius:10px; position:relative; }
.si-mouse:after { content:""; position:absolute; top:6px; left:50%; transform:translateX(-50%); width:4px; height:6px; background:#93c5fd; border-radius:2px; animation: wheelSlide 2.6s ease-in-out infinite; }
@keyframes wheelSlide { 0% { opacity:1; transform:translate(-50%,0); } 70% { opacity:0; transform:translate(-50%,12px); } 100% { opacity:0; } }
.si-arrow { width:10px; height:10px; border-left:2px solid #93c5fd; border-bottom:2px solid #93c5fd; transform:rotate(-45deg); animation: arrowBounce 1.8s ease-in-out infinite; }
@keyframes arrowBounce { 0%,100% { transform:translateY(0) rotate(-45deg); } 50% { transform:translateY(6px) rotate(-45deg); } }
.si-link:hover .si-mouse { border-color:#60a5fa; }
.si-link:hover .si-arrow { border-color:#60a5fa; }


/* 产品展示 */
#productImageWrapper { 
    position: relative; 
}

#productImageWrapper:after { 
    content: ''; 
    position: absolute; 
    inset: 0; 
    background: linear-gradient(145deg,rgba(255,255,255,0.2),rgba(255,255,255,0)); 
    pointer-events: none; 
}

#product-info-panel h3 { 
    text-shadow: 0 2px 4px rgba(0,0,0,0.15); 
}

/* 动态进入动画 */
.agent-chat-shell, #product-info-panel, #product-audit-result { 
    animation: fadeSlide .7s cubic-bezier(.25,.8,.25,1); 
}

@keyframes fadeSlide { 
    from { opacity: 0; transform: translateY(28px); } 
    to { opacity: 1; transform: translateY(0); } 
}

/* 功能卡片样式 */
/* 新版功能卡片重构 */
.function-card {
    border-radius: 0.75rem; /* rounded-xl */
    box-shadow: 0 8px 24px -8px rgba(0,0,0,.45);
    border: 1px solid rgba(255,255,255,.15);
    background: rgba(255,255,255,.06);
    backdrop-filter: blur(18px) saturate(1.2);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transition: all .4s ease;
    position: relative;
    min-height: 320px;
}
.function-card-media { position: relative; height: 42%; overflow: hidden; }
.function-card .media-img { width:100%; height:100%; object-fit: cover; transition: transform .9s cubic-bezier(.22,.82,.25,1); filter: brightness(.85) saturate(1.15); }
.function-card .media-overlay { position:absolute; inset:0; background:linear-gradient(165deg,rgba(0,0,0,.0) 0%,rgba(0,0,0,.45) 85%); pointer-events:none; }
.function-card-body { flex:1; padding:1rem; display:flex; flex-direction:column; }
.function-card-title { font-weight:700; font-size:1.1rem; margin-bottom:.35rem; letter-spacing:.5px; }
.function-card-desc { font-size:.75rem; line-height:1.35rem; opacity:.85; flex-grow:1; }
.function-card-action { font-size:.65rem; padding:.5rem .6rem; border-radius:.5rem; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.14); cursor:pointer; transition: all .35s; display:flex; align-items:center; }
.function-card-action:hover { background:rgba(99,102,241,.18); transform:translateY(-2px); box-shadow:0 8px 20px -6px rgba(99,102,241,.45); }
.function-card:before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 30% 20%,rgba(255,255,255,.08),transparent 70%); opacity:0; transition:opacity .5s; }
.function-card:hover { transform:translateY(-10px) scale(1.035); box-shadow:0 18px 40px -12px rgba(30,64,175,.5), 0 4px 14px -2px rgba(0,0,0,.4); border-color:rgba(255,255,255,.28); }
.function-card:hover:before { opacity:1; }
.function-card:hover .media-img { transform:scale(1.15); }
.function-card:hover .function-card-title { color:#93c5fd; }
.prompt-template { transition: all 0.3s ease; }
.prompt-template:hover { transform: translateX(4px); }
.function-card-copy { 
    font-size:.65rem; 
    padding:.5rem .6rem; 
    border-radius:.5rem; 
    background:rgba(255,255,255,.04); 
    border:1px dashed rgba(255,255,255,.25); 
    color:#e2e8f0; 
    cursor:pointer; 
    position:relative; 
    transition: all .35s; 
    display:flex; 
    align-items:center; 
    gap:.4rem;
}
.function-card-copy:before { content:'\f0c5'; font-family:FontAwesome; font-size:.7rem; opacity:.65; }
.function-card-copy:hover { background:rgba(56,189,248,.18); color:#fff; border-color:rgba(99,102,241,.55); box-shadow:0 6px 18px -6px rgba(56,189,248,.5); transform:translateY(-2px); }
.function-card-copy:active { transform:scale(.94); }
.function-card-copy.copied { background:linear-gradient(120deg,#10b981,#059669); border-color:#10b981; box-shadow:0 6px 22px -8px rgba(16,185,129,.55); }
.function-card-copy.copied:before { content:'\f00c'; }

/* 消息动画 */
.agent-msg-enter {
    animation: msgFadeIn 0.5s ease forwards;
    opacity: 0;
}

@keyframes msgFadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* 发送按钮动画 */
#send-message:active {
    animation: sendPulse 0.3s ease;
}
/* 侧栏面板可读性优化 */
.sidebar-panel { color:#1e293b; background:rgba(255,255,255,.9); backdrop-filter: blur(18px) saturate(1.25); box-shadow:0 8px 28px -10px rgba(15,23,42,.35); }
.sidebar-panel h2 { color:#0f172a; text-shadow:0 1px 2px rgba(255,255,255,.4); }
.sidebar-panel p, .sidebar-panel li, .sidebar-panel a { color:#1f2a37; }
.sidebar-panel .question-item { background:rgba(15,23,42,.04); }
.sidebar-panel .question-item:hover { background:rgba(15,23,42,.08); }

/* 页脚毛玻璃高级效果 */
.site-footer { position:relative; background:linear-gradient(140deg,rgba(12,32,63,.72),rgba(20,52,88,.72)); backdrop-filter: blur(26px) saturate(1.4); border-top:1px solid rgba(255,255,255,.12); }
.site-footer:before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 15% 30%,rgba(99,102,241,.35),transparent 70%), radial-gradient(circle at 85% 70%,rgba(56,189,248,.28),transparent 65%); mix-blend-mode:screen; opacity:.55; pointer-events:none; }
.site-footer .container { position:relative; z-index:2; }
.site-footer p, .site-footer a, .site-footer span { color:rgba(255,255,255,.85); }
.site-footer a:hover { color:#93c5fd; }
.site-footer img { filter: drop-shadow(0 4px 12px rgba(0,0,0,.45)); }


@keyframes sendPulse {
    0% { transform: scale(1); }
    50% { transform: scale(0.9); }
    100% { transform: scale(1); }
}